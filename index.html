<html>
  <head>
    <!-- 1) Load the Power BI JavaScript SDK -->
    <script src="https://cdn.jsdelivr.net/npm/powerbi-client/dist/powerbi.js"></script>
  </head>
  <body style="background-color: #fff;">
    <iframe
      id="report"
      width="1280"
      height="720"
      src="https://app.powerbi.com/reportEmbed?reportId=b0baaad4-b957-48af-ae1f-02491d2ddbbc&amp;groupId=me&amp;autoAuth=true&amp;ctid=bcb5391c-9011-4574-9c56-9688903edcd8"
      frameborder="0"
      allowfullscreen="true">
    </iframe>

    <script>
      // 2) Wait until the SDK is loaded and DOM is ready
      document.addEventListener('DOMContentLoaded', () => {
        // 3) Get a handle on the embedded report
        const reportContainer = document.getElementById('report');
        const report = powerbi.get(reportContainer);

        // 4) Retrieve and log all pages
        report.getPages()
          .then(pages => {
            pages.forEach(page => {
              console.log('Display Name:', page.displayName);
              console.log('Internal Name:', page.name);
            });
          })
          .catch(err => {
            console.error('Error fetching pages:', err);
          });
      });
    </script>
  </body>
</html>
